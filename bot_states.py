import os
from enum import Enum


class State(Enum):
    MAIN_MENU = "main_menu"
    APPLICANTS = "applicants"
    STUDENTS = "students"
    STAFF = "staff"


class BotStates:
    def __init__(self):
        self.schedules_base_path = "data/schedules/"

    async def handle_state(self, user_id, action, user_data):
        """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–æ—Ç–∞"""

        if action == "applicants":
            return self._get_applicants_menu()
        elif action == "students":
            return self._get_students_menu()
        elif action == "staff":
            return self._get_staff_menu()
        elif action == "–ù–∞–∑–∞–¥":
            return await self._handle_back_action(user_data)

        # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è "–ê–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞–º"
        if user_data.get('current_section') == 'applicants':
            return await self._handle_applicants_flow(action, user_data)

        # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è "–°—Ç—É–¥–µ–Ω—Ç–∞–º"
        elif user_data.get('current_section') == 'students':
            return await self._handle_students_flow(action, user_data)

        # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º"
        elif user_data.get('current_section') == 'staff':
            return await self._handle_staff_flow(action, user_data)

        return {"text": "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞", "buttons": [["–ù–∞–∑–∞–¥"]]}

    def _get_applicants_menu(self):
        """–ú–µ–Ω—é –¥–ª—è –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤"""
        text = """–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ! ‚ú® –Ø –≤–∏–∂—É, —Ç—ã –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç ‚Äî –∑–Ω–∞—á–∏—Ç, –≤–ø–µ—Ä–µ–¥–∏ —Å–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ, –Ω–µ —Ç–µ—Ä–ø–∏—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—å –¥–ª—è —Ç–µ–±—è –¥–æ—Å—Ç—É–ø –∫ –æ—Å–Ω–æ–≤–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º.

–Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ–º –≤ –ö—Ä—ã–º—Å–∫–∏–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç: —Ä–∞—Å—Å–∫–∞–∂—É –ø—Ä–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –±–∞–ª–ª—ã, –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –≤—Å—ë, —á—Ç–æ –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å –Ω–∞ —Å—Ç–∞—Ä—Ç–µ.

–í—ã–±–µ—Ä–∏, —Å —á–µ–≥–æ –Ω–∞—á–Ω—ë–º üëá"""

        buttons = [
            ["–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è", "–í—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞"],
            ["–ü—Ä–∏–µ–º–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è", "–î–µ–Ω—å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–≤–µ—Ä–µ–π"],
            ["–°–ø—Ä–æ—Å–∏—Ç—å —É –ú–∞–π–ª–∑–∞", "–ù–∞–∑–∞–¥"]
        ]

        return {"text": text, "buttons": buttons}

    def _get_students_menu(self):
        """–ú–µ–Ω—é –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤"""
        text = """–ü—Ä–∏–≤–µ—Ç, —Å—Ç—É–¥–µ–Ω—Ç! üëã
–ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç —Ç–µ–±–µ –≤ —É—á–µ–±–µ."""

        buttons = [
            ["–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ", "–£—á–µ–±–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã"],
            ["–≠–∫—Å—Ç—Ä–∞ üíÖ", "–Ø—Ä–º–∞—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤"],
            ["–°–∏—Å—Ç–µ–º–∞ –û—Ü–µ–Ω–∫–∏ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π", "–î–µ–¥–ª–∞–π–Ω—ã"],
            ["–ú–µ–Ω—é —Å—Ç–æ–ª–æ–≤–æ–π", "–í—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞"],
            ["–°–ø—Ä–æ—Å–∏—Ç—å –ú–∞–π–ª–∑–∞", "–ù–∞–∑–∞–¥"]
        ]

        return {"text": text, "buttons": buttons}

    def _get_staff_menu(self):
        """–ú–µ–Ω—é –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"""
        text = "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é —Ç–µ–±—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫, —á–µ–º —è –º–æ–≥—É —Ç–µ–±–µ –ø–æ–º–æ—á—å?"

        buttons = [
            ["–û—Ñ–∏—Å (–∑–∞–∫–∞–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)", "–ñ—É—Ä–Ω–∞–ª –°–û–ü"],
            ["–í—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞", "–°–ø—Ä–æ—Å–∏—Ç—å –ú–∞–π–ª–∑–∞"],
            ["–ù–∞–∑–∞–¥"]
        ]

        return {"text": text, "buttons": buttons}

    async def _handle_applicants_flow(self, action, user_data):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Ç–æ–∫–∞ –¥–ª—è –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤"""
        # –§–∞–∫—É–ª—å—Ç–µ—Ç—ã
        faculties = {
            "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –∞–∫–∞–¥–µ–º–∏—è –∏–º. –°.–ò. –ì–µ–æ—Ä–≥–∏–µ–≤—Å–∫–æ–≥–æ": self._get_medical_academy_info(),
            "–ê–∫–∞–¥–µ–º–∏—è –±–∏–æ—Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –ø—Ä–∏—Ä–æ–¥–æ–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ê–ë–∏–ü)": self._get_abip_info(),
            "–¢–∞–≤—Ä–∏—á–µ—Å–∫–∞—è –∞–∫–∞–¥–µ–º–∏—è": self._get_tavrida_info(),
            "–ò–Ω—Å—Ç–∏—Ç—É—Ç –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–π —Ñ–∏–ª–æ–ª–æ–≥–∏–∏": self._get_iif_info(),
            "–ò–Ω—Å—Ç–∏—Ç—É—Ç —ç–∫–æ–Ω–æ–º–∏–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è": self._get_ineu_info(),
            "–§–∏–∑–∏–∫–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç": self._get_fti_info(),
            "–ò–Ω—Å—Ç–∏—Ç—É—Ç —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã": self._get_isa_info(),
            "–ò–Ω—Å—Ç–∏—Ç—É—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ-—Ç–µ–ª–µ–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º": self._get_iits_info(),
            "–ö—Ä—ã–º—Å–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç –±–∏–∑–Ω–µ—Å–∞": self._get_kib_info()
        }

        if action in faculties:
            return faculties[action]
        elif action == "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è":
            return self._get_faculties_menu()
        elif action == "–í—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞":
            user_data['waiting_feedback'] = True
            return {
                "text": "> –û, —Ç—ã –Ω–∞–∂–∞–ª(–∞) –Ω–∞ \"–≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—É—é –∫–Ω–æ–ø–∫—É\"! \n\n–î–µ–ª–∏—Å—å –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è–º–∏ ‚Äî —Ö–≤–∞–ª–∏—Ç—å —Ç–æ–∂–µ –º–æ–∂–Ω–æ \n–Ø –ø–µ—Ä–µ–¥–∞–º —Ç–≤–æ–π –æ—Ç–∑—ã–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º, —á—Ç–æ–±—ã –æ–Ω–∏ –∑–Ω–∞–ª–∏, —á—Ç–æ —É–ª—É—á—à–∏—Ç—å (–∏–ª–∏ —á–µ–º –º–æ–∂–Ω–æ –≥–æ—Ä–¥–∏—Ç—å—Å—è).\n\n–ù–∞–ø–∏—à–∏ –ø–∞—Ä—É —Å–ª–æ–≤ –ø—Ä—è–º–æ —Å—é–¥–∞ üëá",
                "buttons": [["–ù–∞–∑–∞–¥"]]
            }
        elif action == "–ü—Ä–∏–µ–º–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è":
            return self._get_admission_committee_info()
        elif action == "–î–µ–Ω—å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–≤–µ—Ä–µ–π":
            return await self._get_open_day_info()
        elif action == "–°–ø—Ä–æ—Å–∏—Ç—å —É –ú–∞–π–ª–∑–∞":
            user_data['waiting_ai_question'] = True
            return {
                "text": "–ó–∞–¥–∞–π –∫–∞–∫–æ–π-–ª–∏–±–æ –≤–æ–ø—Ä–æ—Å –ò–ò –ø–æ–º–æ—â–Ω–∏–∫—É",
                "buttons": [["–ù–∞–∑–∞–¥"]]
            }

        return {"text": "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:", "buttons": [["–ù–∞–∑–∞–¥"]]}

    def _get_faculties_menu(self):
        """–ú–µ–Ω—é —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–æ–≤"""
        text = "–û—Ç–ª–∏—á–Ω–æ! üéì\n–í –ö—Ä—ã–º—Å–∫–æ–º —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–º —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ –µ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–æ–≤ ‚Äî –∫–∞–∂–¥—ã–π —Å–æ —Å–≤–æ–∏–º–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ –æ–±—É—á–µ–Ω–∏—è.\n\n–í—ã–±–µ—Ä–∏ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ç–µ–±–µ –∏–Ω—Ç–µ—Ä–µ—Å–µ–Ω, –∏ —è –ø–æ–∫–∞–∂—É, –∫–∞–∫–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã üëá"

        buttons = [
            ["–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –∞–∫–∞–¥–µ–º–∏—è –∏–º. –°.–ò. –ì–µ–æ—Ä–≥–∏–µ–≤—Å–∫–æ–≥–æ", "–ê–∫–∞–¥–µ–º–∏—è –±–∏–æ—Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –ø—Ä–∏—Ä–æ–¥–æ–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ê–ë–∏–ü)"],
            ["–¢–∞–≤—Ä–∏—á–µ—Å–∫–∞—è –∞–∫–∞–¥–µ–º–∏—è", "–ò–Ω—Å—Ç–∏—Ç—É—Ç –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–π —Ñ–∏–ª–æ–ª–æ–≥–∏–∏"],
            ["–ò–Ω—Å—Ç–∏—Ç—É—Ç —ç–∫–æ–Ω–æ–º–∏–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è", "–§–∏–∑–∏–∫–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç"],
            ["–ò–Ω—Å—Ç–∏—Ç—É—Ç —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã", "–ò–Ω—Å—Ç–∏—Ç—É—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ-—Ç–µ–ª–µ–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º"],
            ["–ö—Ä—ã–º—Å–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç –±–∏–∑–Ω–µ—Å–∞", "–ù–∞–∑–∞–¥"]
        ]

        return {"text": text, "buttons": buttons}

    def _get_medical_academy_info(self):
        """–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –∞–∫–∞–¥–µ–º–∏–∏"""
        text = """*–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –∞–∫–∞–¥–µ–º–∏—è –∏–º. –°.–ò. –ì–µ–æ—Ä–≥–∏–µ–≤—Å–∫–æ–≥–æ*
*–û–ø–∏—Å–∞–Ω–∏–µ:* –í–µ–¥—É—â–∏–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –≤—É–∑ –ö—Ä—ã–º–∞ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –∫–ª–∏–Ω–∏—á–µ—Å–∫–æ–π –±–∞–∑–æ–π. –ì–æ—Ç–æ–≤–∏—Ç –≤—Ä–∞—á–µ–π, –ø—Ä–æ–≤–∏–∑–æ—Ä–æ–≤ –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –º–µ–¥–∏–∫–æ-–ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ª–∞.
*–°—Å—ã–ª–∫–∞:* https://med.cfuv.ru/

*–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏:*
‚Ä¢ –õ–µ—á–µ–±–Ω–æ–µ –¥–µ–ª–æ (–†—É—Å—Å–∫–∏–π —è–∑—ã–∫, –•–∏–º–∏—è, –ë–∏–æ–ª–æ–≥–∏—è)
‚Ä¢ –ü–µ–¥–∏–∞—Ç—Ä–∏—è (–†—É—Å—Å–∫–∏–π —è–∑—ã–∫, –•–∏–º–∏—è, –ë–∏–æ–ª–æ–≥–∏—è)
‚Ä¢ –°—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏—è (–†—É—Å—Å–∫–∏–π —è–∑—ã–∫, –•–∏–º–∏—è, –ë–∏–æ–ª–æ–≥–∏—è)
‚Ä¢ –§–∞—Ä–º–∞—Ü–∏—è (–†—É—Å—Å–∫–∏–π —è–∑—ã–∫, –•–∏–º–∏—è, –ë–∏–æ–ª–æ–≥–∏—è)
‚Ä¢ –ú–µ–¥–∏–∫–æ-–ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –¥–µ–ª–æ (–†—É—Å—Å–∫–∏–π —è–∑—ã–∫, –•–∏–º–∏—è, –ë–∏–æ–ª–æ–≥–∏—è)
‚Ä¢ –°–µ—Å—Ç—Ä–∏–Ω—Å–∫–æ–µ –¥–µ–ª–æ (–†—É—Å—Å–∫–∏–π —è–∑—ã–∫, –ë–∏–æ–ª–æ–≥–∏—è)"""

        return {"text": text, "buttons": [["–ù–∞–∑–∞–¥"]]}

    def _get_admission_committee_info(self):
        """–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–µ–º–Ω–æ–π –∫–æ–º–∏—Å—Å–∏–∏"""
        text = """*–í–æ—Ç –≤—Å—ë –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Å–≤—è–∑–∏ —Å –ø—Ä–∏—ë–º–Ω–æ–π –∫–æ–º–∏—Å—Å–∏–µ–π:*
‚Ä¢ –ì—Ä—É–ø–ø–∞ –í–∫–æ–Ω—Ç–∞–∫—Ç–µ: https://vk.com/pkcfu
‚Ä¢ –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: 8(365)260-22-38
‚Ä¢ –ü–æ—á—Ç–∞: tnupt@mail.ru
‚Ä¢ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç: https://priem.cfuv.ru"""

        return {"text": text, "buttons": [["–ù–∞–∑–∞–¥"]]}

    async def _get_open_day_info(self):
        """–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–Ω–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–≤–µ—Ä–µ–π"""
        # –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Sheets
        text = """*–î–µ–Ω—å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–≤–µ—Ä–µ–π –≤ –ö—Ä—ã–º—Å–∫–æ–º –§–µ–¥–µ—Ä–∞–ª—å–Ω–æ–º –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ ‚Äì —Ç–≤–æ–π –∫–ª—é—á –∫ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—é!*

–≠—Ç–æ –≥–ª–∞–≤–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –¥–ª—è –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤ –∏ –∏—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π, –≥–¥–µ –≤—ã —Å–º–æ–∂–µ—Ç–µ –∏–∑ –ø–µ—Ä–≤—ã—Ö —Ä—É–∫ –ø–æ–ª—É—á–∏—Ç—å –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. 
–£–∑–Ω–∞—Ç—å –±–ª–∏–∂–∞–π—à—É—é –¥–∞—Ç—É –º–æ–∂–Ω–æ –Ω–∏–∂–µ, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è."""

        buttons = [["–£–∑–Ω–∞—Ç—å –±–ª–∏–∂–∞–π—à—É—é –¥–∞—Ç—É", "–ù–∞–∑–∞–¥"]]
        return {"text": text, "buttons": buttons}

    async def _handle_back_action(self, user_data):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ –ù–∞–∑–∞–¥"""
        current_section = user_data.get('current_section')

        if current_section == 'applicants':
            return self._get_applicants_menu()
        elif current_section == 'students':
            return self._get_students_menu()
        elif current_section == 'staff':
            return self._get_staff_menu()
        else:
            return self._get_main_menu()

    def _get_main_menu(self):
        """–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"""
        text = "–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é:"
        buttons = [
            ["–ê–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞–º", "–°—Ç—É–¥–µ–Ω—Ç–∞–º"],
            ["–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞"]
        ]
        return {"text": text, "buttons": buttons}

    # –î–æ–±–∞–≤—å—Ç–µ –∑–¥–µ—Å—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
    # (–æ–Ω–∏ –±—É–¥—É—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã _get_medical_academy_info)